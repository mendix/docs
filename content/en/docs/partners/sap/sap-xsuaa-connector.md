---
title: "XSUAA Connector for SAP Business Technology Platform"
url: /partners/sap/sap-xsuaa-connector/
category: "SAP"
weight: 40
description: "Presents reference information on the XSUAA Connector for SAP Business Technology Platform."
tags: ["SAP", "SAP Cloud Platform", "SSO", "XSUAA", "SAP BTP", "SAP Business Technology Platform"]
---

## 1 Introduction

XSUAA is a service provided by the SAP Business Technology Platform (SAP BTP) that will bind to the Mendix application as soon as the application is deployed within the SAP Business Technology Platform (SAP BTP) using the deployment features in the Mendix Developer Portal.

Out of the box, SAP BTP has the SAP external identify provider (IDP) configured as the default IDP. It is possible to use your own (corporate) IDP as an alternative so that you can automatically give access to all the employees of your organization.

{{% alert color="info" %}}
Version 2.1.1 of the XSUAA Connector for SAP Business Technology Platform uses a new user administration module called **SapAuthentication**. If you are upgrading from version 2.0.0 or below, you will need to migrate your existing users from **Administration.Account** to **SapAuthentication.SapUser** using the [User Migration](/appstore/modules/user-migration-module/) Marketplace module.
{{% /alert %}}

## 2 Setup

In this diagram, the relationship is shown between groups, roles, and users in relation to the Mendix application and the IDP:

{{< figure src="/attachments/partners/sap/sap-xsuaa-connector/xsuaa-diagram.png" >}}

A Mendix application is role-based by default. When deploying a Mendix app to SAP BTP using the the deployment features in the Mendix Developer Portal, the SAP BTP application configuration is automatically created (identified in the yellow section of the diagram above). This configuration reflects the roles that are defined in the Mendix app (identified in the blue section of the diagram).

To assign users from the IDP to these roles generated by the model, the account admin needs to add the mapping between the IDP user groups and the role templates (identified in the orange section of the diagram).

{{< figure src="/attachments/partners/sap/sap-xsuaa-connector/trusted-idp.png" >}}

## 3 Custom Configuration

You need to provide your own [xs-security.json](https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.04/en-US/6d3ed64092f748cbac691abc5fe52985.html) file to add custom configuration to your XSUAA connector.

1. Ensure that the **xsuaa** service is in the status **Services To Be Bound**. See the [Services Tab](/developerportal/deploy/sap-cloud-platform/#binding-services) section of *SAP Business Technology Platform* for more information.

2. Click the three dots **…** next to the **xsuaa** service and select **Add Binding Configuration**.

You then have two options:

### 3.1 Use the XSUAA Configurator

The **XSUAA Configurator** provides a user friendly interface to create the JSON required to configure the XSUAA service. It can be uploaded automatically for you, or you can download the file and upload it manually.

{{% alert color="info" %}}
The configurator will only create a JSON file from scratch. It does not have access to your existing XSUAA settings on SAP BTP, and you cannot import an existing JSON files.

You cannot change the **xsappname** in the configurator – this is generated automatically for your app by the Developer Portal.
{{% /alert %}}

1. Click **⚙️ Configurator** to open the configurator.

2. Set up the configuration in the sections shown on the screen.

    {{< figure src="/attachments/partners/sap/sap-xsuaa-connector/configurator.png"   width="50%"  >}}

3. Click **Upload Configuration To Service** to upload the configuration automatically. The configuration will be applied when your app is restarted.

    Alternatively, click **Download Configuration File** to save the file locally so that you can review it, or reuse it. You can upload it manually to the XSUAA service using the instructions in the next section.

### 3.2 Upload Configuration JSON

You can upload your own JSON configuration file, either created from the XSUAA Configurator or handcrafted.

1. Click **Browse…** next to the **Configurator JSON** option.
2. Choose the file containing the XSUAA configuration you want to use.

The configuration will be applied when your app is restarted.

## 4 Working

When XSUAA is enabled on SAP BTP and the *XSUAA Connector for SAP Business Technology Platform* is part of the Mendix application (for details on this connector, see [How to Use the XSUAA Connector for SAP Business Technology Platform](/partners/sap/use-sap-xsuaa-connector/)), an IDP user automatically becomes a Mendix application user. They will be assigned to the roles in the Mendix application based on the scopes they have received from the XSUAA service. The scopes are defined by the mapping between the role templates and the role collections.

When the IDP user is added to the Mendix application, they are given a randomly generated password to prevent the user being logged in using the local credentials. You can control the length of this randomly-generated password using the `SapAuthentication.PasswordLength` constant. This can also be set via an environment variable. `SapAuthentication.PasswordLength` should be at least 8, with a maximum value of 12.

## 5 Read More

* [How to Use the XSUAA Connector for SAP Business Technology Platform](/partners/sap/use-sap-xsuaa-connector/)
